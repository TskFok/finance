# 记账系统配置文件示例
# 复制此文件为 config.yaml 并根据实际情况修改

# 服务器配置
server:
  port: ":8811"                       # 服务端口，格式 :端口号
  mode: "release"                     # 运行模式: debug(开发)/release(生产)
  base_url: "http://localhost:8811"   # 服务器完整地址（用于邮件中的重置链接）

# 数据库配置 (MySQL)
database:
  host: "127.0.0.1"       # 数据库主机地址
  port: "3306"            # 数据库端口
  username: "root"        # 数据库用户名
  password: "your_password"  # 数据库密码
  dbname: "finance"       # 数据库名称
  charset: "utf8mb4"      # 字符集，推荐 utf8mb4 支持 emoji

# JWT 认证配置
jwt:
  secret: "your-super-secret-key-please-change-me"  # JWT 签名密钥（必须修改！）
  expire_hours: 24        # Token 过期时间（小时）

# 邮件配置（用于密码重置功能，可选）
email:
  enabled: false          # 是否启用邮件服务
  host: "smtp.qq.com"     # SMTP 服务器地址
  port: 465               # SMTP 端口 (SSL: 465, TLS: 587)
  username: ""            # 发件邮箱账号
  password: ""            # 邮箱授权码（非登录密码）
  from: "记账系统"         # 发件人显示名称

# ==================== 配置说明 ====================
#
# 1. 数据库配置
#    - 请确保 MySQL 服务已启动
#    - 需要先创建数据库: CREATE DATABASE finance CHARACTER SET utf8mb4;
#
# 2. JWT 配置
#    - 生产环境必须修改 secret 为随机字符串
#    - 可使用命令生成: openssl rand -base64 32
#
# 3. 邮件配置 (可选)
#    QQ邮箱:
#      host: smtp.qq.com
#      port: 465
#      获取授权码: QQ邮箱设置 -> 账户 -> POP3/SMTP服务 -> 生成授权码
#
#    163邮箱:
#      host: smtp.163.com
#      port: 465
#      获取授权码: 邮箱设置 -> POP3/SMTP/IMAP -> 开启服务
#
#    Gmail:
#      host: smtp.gmail.com
#      port: 587
#      需要启用"应用专用密码"
#
# 4. 环境变量覆盖
#    所有配置都可以通过环境变量覆盖，格式: FINANCE_配置路径
#    例如: FINANCE_DATABASE_PASSWORD=xxx ./finance
#
# ==================================================

